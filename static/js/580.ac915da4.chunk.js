"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[580],{580:(s,t,e)=>{e.r(t),e.d(t,{default:()=>y});var a=e(791);const r={};var o=e(161);const i="Post_item__Yu4oG";var n=e(184);const l=s=>(0,n.jsxs)("div",{className:i,children:[(0,n.jsx)("img",{src:"https://avatarzo.ru/wp-content/uploads/squid-game-anime.jpg"}),s.message,(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{children:"like "}),s.likes]})]}),u="MyPosts_postsBlock__lB-pf",p="MyPosts_posts__GSiZ2",d=(0,a.memo)((s=>{let t=s.posts.map((s=>(0,n.jsx)(l,{message:s.post,likes:s.likes},s.id))),e=a.createRef();return(0,n.jsxs)("div",{className:u,children:[(0,n.jsx)("h3",{children:"My posts"}),(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{children:(0,n.jsx)("textarea",{onChange:()=>{let t=e.current.value;s.updateNewPostText(t)},ref:e,value:s.newPostText})}),(0,n.jsx)("button",{onClick:()=>{s.addPost()},children:"Add post"})]}),(0,n.jsx)("div",{className:p,children:t.reverse()})]})}));var c=e(420);const h=(0,c.$j)((s=>({posts:s.profilePage.posts,newPostText:s.profilePage.newPostText})),(s=>({updateNewPostText:t=>{let e=(0,o._M)(t);s(e)},addPost:()=>{s((0,o.Wl)())}})))(d),x="ProfileInfo_profileInfo__container__ZmQPk",_="ProfileInfo_avatar__container__WC25Y",f="ProfileInfo_avatar__img__vn3Rf",j="ProfileInfo_description__container__Vkutc",m="ProfileInfo_description__u7GZ5",v="ProfileInfo_status__YrBI5";var g=e(628);const P={},N=s=>{const[t,e]=(0,a.useState)(!1),[r,o]=(0,a.useState)(s.status);(0,a.useEffect)((()=>{o(s.status)}),[s.status]);return(0,n.jsxs)("div",{className:P.status_wrap,children:[!t&&(0,n.jsx)("div",{className:P.status_text,children:(0,n.jsx)("span",{onDoubleClick:()=>e(!0),children:s.status||"No status"})}),t&&(0,n.jsx)("div",{className:P.status_input,children:(0,n.jsx)("input",{value:r,onBlur:()=>{e(!1),s.updateStatus(r)},autoFocus:!0,onChange:s=>{o(s.currentTarget.value)}})})]})},k=s=>s.profile?(0,n.jsxs)("section",{className:x,children:[(0,n.jsxs)("div",{className:_,children:[(0,n.jsx)("div",{className:v,children:(0,n.jsx)(N,{status:s.status,updateStatus:s.updateStatus})}),(0,n.jsx)("img",{className:f,src:s.profile.photos.small||"https://avatarzo.ru/wp-content/uploads/squid-game-anime.jpg"})]}),(0,n.jsx)("div",{className:j,children:(0,n.jsx)("div",{className:m,children:"Description."})})]}):(0,n.jsx)(g.Z,{}),S=s=>(0,n.jsxs)("div",{className:r.main,children:[(0,n.jsx)(k,{profile:s.profile,status:s.status,updateStatus:s.updateStatus}),(0,n.jsx)(h,{store:s.store})]});var I=e(689),w=e(927),C=e(154);class T extends a.Component{componentDidMount(){let s=this.props.router.params.profileId;s||(s=this.props.authorizedId,s||this.props.history.push("/login")),this.props.getUserProfile(s),this.props.getStatus(s)}render(){return(0,n.jsx)(S,{...this.props,profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus})}}const y=(0,C.qC)((0,c.$j)((s=>({profile:s.profilePage.profile,status:s.profilePage.status,authorizedId:s.auth.id,isAuth:s.auth.isAuth})),{getUserProfile:o.et,getStatus:o.lR,updateStatus:o.Nf}),(s=>function(t){let e=(0,I.TH)(),a=(0,I.s0)(),r=(0,I.UO)();return(0,n.jsx)(s,{...t,router:{location:e,navigate:a,params:r}})}),w.D)(T)},927:(s,t,e)=>{e.d(t,{D:()=>l});var a=e(791),r=e(420),o=e(689),i=e(184);let n=s=>({isAuth:s.auth.isAuth});const l=s=>{class t extends a.Component{render(){return this.props.isAuth?(0,i.jsx)(s,{...this.props}):(0,i.jsx)(o.Fg,{to:"/login"})}}return(0,r.$j)(n)(t)}}}]);
//# sourceMappingURL=580.ac915da4.chunk.js.map